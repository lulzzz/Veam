/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jtable@2.6.0/dev/jquery.jtable.forms.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){e.extend(!0,e.hik.jtable.prototype,{_submitFormUsingAjax:function(e,t,a,i){this._ajax({url:e,data:t,success:a,error:i})},_createInputLabelForRecordField:function(t){return e("<div />").addClass("jtable-input-label").html(this.options.fields[t].inputTitle||this.options.fields[t].title)},_createInputForRecordField:function(t){var a=t.fieldName,i=t.value,n=t.record,r=t.formType,o=t.form,l=this.options.fields[a];if(null!=i&&null!=i||(i=l.defaultValue),l.input){var d=e(l.input({value:i,record:n,formType:r,form:o}));return d.attr("id")||d.attr("id","Edit-"+a),e("<div />").addClass("jtable-input jtable-custom-input").append(d)}return"date"==l.type?this._createDateInputForField(l,a,i):"textarea"==l.type?this._createTextAreaForField(l,a,i):"password"==l.type?this._createPasswordInputForField(l,a,i):"checkbox"==l.type?this._createCheckboxForField(l,a,i):l.options?"radiobutton"==l.type?this._createRadioButtonListForField(l,a,i,n,r):this._createDropDownListForField(l,a,i,n,r,o):this._createTextInputForField(l,a,i)},_createInputForHidden:function(t,a){return null==a&&(a=""),e('<input type="hidden" name="'+t+'" id="Edit-'+t+'"></input>').val(a)},_createDateInputForField:function(t,a,i){var n=e('<input class="'+t.inputClass+'" id="Edit-'+a+'" type="text" name="'+a+'"></input>');null!=i&&n.val(i);var r=t.displayFormat||this.options.defaultDateFormat,o=t.changeMonth||this.options.defaultChangeMonth,l=t.changeYear||this.options.defaultChangeYear,d=t.yearRange||this.options.defaultYearRange,s=t.maxDate||this.options.defaultMaxDate;return n.datepicker({dateFormat:r,changeMonth:o,changeYear:l,yearRange:d,maxDate:s}),e("<div />").addClass("jtable-input jtable-date-input").append(n)},_createTextAreaForField:function(t,a,i){var n=e('<textarea class="'+t.inputClass+'" id="Edit-'+a+'" name="'+a+'"></textarea>');return null!=i&&n.val(i),e("<div />").addClass("jtable-input jtable-textarea-input").append(n)},_createTextInputForField:function(t,a,i){var n=e('<input class="'+t.inputClass+'" placeholder="'+t.placeholder+'" id="Edit-'+a+'" type="text" name="'+a+'"></input>');return null!=i&&n.val(i),e("<div />").addClass("jtable-input jtable-text-input").append(n)},_createPasswordInputForField:function(t,a,i){var n=e('<input class="'+t.inputClass+'" placeholder="'+t.placeholder+'" id="Edit-'+a+'" type="password" name="'+a+'"></input>');return null!=i&&n.val(i),e("<div />").addClass("jtable-input jtable-password-input").append(n)},_createCheckboxForField:function(t,a,i){var n=this;null==i&&(i=n._getCheckBoxPropertiesForFieldByState(a,!1).Value);var r=e("<div />").addClass("jtable-input jtable-checkbox-input"),o=e('<input class="'+t.inputClass+'" id="Edit-'+a+'" type="checkbox" name="'+a+'" />').appendTo(r);null!=i&&o.val(i);var l=e("<span>"+(t.formText||n._getCheckBoxTextForFieldByValue(a,i))+"</span>").appendTo(r);n._getIsCheckBoxSelectedForFieldByValue(a,i)&&o.attr("checked","checked");var d=function(){var e=n._getCheckBoxPropertiesForFieldByState(a,o.is(":checked"));o.attr("value",e.Value),l.html(t.formText||e.DisplayText)};return o.click(function(){d()}),0!=t.setOnTextClick&&l.addClass("jtable-option-text-clickable").click(function(){o.is(":checked")?o.attr("checked",!1):o.attr("checked",!0),d()}),r},_createDropDownListForField:function(t,a,i,n,r,o){var l=e("<div />").addClass("jtable-input jtable-dropdown-input"),d=e('<select class="'+t.inputClass+'" id="Edit-'+a+'" name="'+a+'"></select>').appendTo(l),s=this._getOptionsForField(a,{record:n,source:r,form:o,dependedValues:this._createDependedValuesUsingForm(o,t.dependsOn)});return this._fillDropDownListWithOptions(d,s,i),l},_fillDropDownListWithOptions:function(t,a,i){t.empty();for(var n=0;n<a.length;n++)e("<option"+(a[n].Value==i?' selected="selected"':"")+">"+a[n].DisplayText+"</option>").val(a[n].Value).appendTo(t)},_createDependedValuesUsingForm:function(e,t){if(!t)return{};for(var a={},i=0;i<t.length;i++){var n=t[i],r=e.find("select[name="+n+"]");r.length<=0||(a[n]=r.val())}return a},_createRadioButtonListForField:function(t,a,i,n,r){var o=e("<div />").addClass("jtable-input jtable-radiobuttonlist-input"),l=this._getOptionsForField(a,{record:n,source:r});return e.each(l,function(n,r){var l=e('<div class=""></div>').addClass("jtable-radio-input").appendTo(o),d=e('<input type="radio" id="Edit-'+a+"-"+n+'" class="'+t.inputClass+'" name="'+a+'"'+(r.Value==i+""?' checked="true"':"")+" />").val(r.Value).appendTo(l),s=e("<span></span>").html(r.DisplayText).appendTo(l);0!=t.setOnTextClick&&s.addClass("jtable-option-text-clickable").click(function(){d.is(":checked")||d.attr("checked",!0)})}),o},_getCheckBoxTextForFieldByValue:function(e,t){return this.options.fields[e].values[t]},_getIsCheckBoxSelectedForFieldByValue:function(e,t){return this._createCheckBoxStateArrayForFieldWithCaching(e)[1].Value.toString()==t.toString()},_getCheckBoxPropertiesForFieldByState:function(e,t){return this._createCheckBoxStateArrayForFieldWithCaching(e)[t?1:0]},_createCheckBoxStateArrayForFieldWithCaching:function(e){var t="checkbox_"+e;return this._cache[t]||(this._cache[t]=this._createCheckBoxStateArrayForField(e)),this._cache[t]},_createCheckBoxStateArrayForField:function(t){var a=[],i=0;return e.each(this.options.fields[t].values,function(e,t){i++<2&&a.push({Value:e,DisplayText:t})}),a},_makeCascadeDropDowns:function(t,a,i){var n=this;t.find("select").each(function(){var r=e(this),o=r.attr("name");if(o){var l=n.options.fields[o];l.dependsOn&&e.each(l.dependsOn,function(e,d){t.find("select[name="+d+"]").change(function(){var e={record:a,source:i,form:t,dependedValues:{}};e.dependedValues=n._createDependedValuesUsingForm(t,l.dependsOn);var d=n._getOptionsForField(o,e);n._fillDropDownListWithOptions(r,d,void 0),r.change()})})}})},_updateRecordValuesFromForm:function(t,a){for(var i=0;i<this._fieldList.length;i++){var n=this._fieldList[i],r=this.options.fields[n];if(0!=r.edit){var o=a.find('[name="'+n+'"]');if(!(o.length<=0))if("date"==r.type){var l=o.val();if(l){var d=r.displayFormat||this.options.defaultDateFormat;try{var s=e.datepicker.parseDate(d,l);t[n]="/Date("+s.getTime()+")/"}catch(e){this._logWarn("Date format is incorrect for field "+n+": "+l),t[n]=void 0}}else this._logDebug("Date is empty for "+n),t[n]=void 0}else if(r.options&&"radiobutton"==r.type){var c=o.filter(":checked");c.length?t[n]=c.val():t[n]=void 0}else t[n]=o.val()}}},_setEnabledOfDialogButton:function(e,t,a){e&&(0!=t?e.removeAttr("disabled").removeClass("ui-state-disabled"):e.attr("disabled","disabled").addClass("ui-state-disabled"),a&&e.find("span").text(a))}})}(jQuery);
//# sourceMappingURL=/sm/d460979cb3b7e3c7f0f4b74984ff13deffc9bf1beec6c3162dbb129fa5152cca.map