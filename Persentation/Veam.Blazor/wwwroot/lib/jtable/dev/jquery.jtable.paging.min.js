/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jtable@2.6.0/dev/jquery.jtable.paging.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){var t={load:e.hik.jtable.prototype.load,_create:e.hik.jtable.prototype._create,_setOption:e.hik.jtable.prototype._setOption,_createRecordLoadUrl:e.hik.jtable.prototype._createRecordLoadUrl,_createJtParamsForLoading:e.hik.jtable.prototype._createJtParamsForLoading,_addRowToTable:e.hik.jtable.prototype._addRowToTable,_addRow:e.hik.jtable.prototype._addRow,_removeRowsFromTable:e.hik.jtable.prototype._removeRowsFromTable,_onRecordsLoaded:e.hik.jtable.prototype._onRecordsLoaded};e.extend(!0,e.hik.jtable.prototype,{options:{paging:!1,pageList:"normal",pageSize:10,pageSizes:[10,25,50,100,250,500],pageSizeChangeArea:!0,gotoPageArea:"combobox",messages:{pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count",gotoPageLabel:"Go to page"}},_$bottomPanel:null,_$pagingListArea:null,_$pageSizeChangeArea:null,_$pageInfoSpan:null,_$gotoPageArea:null,_$gotoPageInput:null,_totalRecordCount:0,_currentPageNo:1,_create:function(){t._create.apply(this,arguments),this.options.paging&&(this._loadPagingSettings(),this._createBottomPanel(),this._createPageListArea(),this._createGotoPageInput(),this._createPageSizeSelection())},_loadPagingSettings:function(){if(this.options.saveUserPreferences){var e=this._getCookie("page-size");e&&(this.options.pageSize=this._normalizeNumber(e,1,1e6,this.options.pageSize))}},_createBottomPanel:function(){this._$bottomPanel=e("<div />").addClass("jtable-bottom-panel").insertAfter(this._$table),this._jqueryuiThemeAddClass(this._$bottomPanel,"ui-state-default"),e("<div />").addClass("jtable-left-area").appendTo(this._$bottomPanel),e("<div />").addClass("jtable-right-area").appendTo(this._$bottomPanel)},_createPageListArea:function(){this._$pagingListArea=e("<span></span>").addClass("jtable-page-list").appendTo(this._$bottomPanel.find(".jtable-left-area")),this._$pageInfoSpan=e("<span></span>").addClass("jtable-page-info").appendTo(this._$bottomPanel.find(".jtable-right-area"))},_createPageSizeSelection:function(){var t=this;if(t.options.pageSizeChangeArea){t._findIndexInArray(t.options.pageSize,t.options.pageSizes)<0&&(t.options.pageSizes.push(parseInt(t.options.pageSize)),t.options.pageSizes.sort(function(e,t){return e-t})),t._$pageSizeChangeArea=e("<span></span>").addClass("jtable-page-size-change").appendTo(t._$bottomPanel.find(".jtable-left-area")),t._$pageSizeChangeArea.append("<span>"+t.options.messages.pageSizeChangeLabel+": </span>");for(var a=e("<select></select>").appendTo(t._$pageSizeChangeArea),o=0;o<t.options.pageSizes.length;o++)a.append('<option value="'+t.options.pageSizes[o]+'">'+t.options.pageSizes[o]+"</option>");a.val(t.options.pageSize),a.change(function(){t._changePageSize(parseInt(e(this).val()))})}},_createGotoPageInput:function(){var t=this;t.options.gotoPageArea&&"none"!=t.options.gotoPageArea&&(this._$gotoPageArea=e("<span></span>").addClass("jtable-goto-page").appendTo(t._$bottomPanel.find(".jtable-left-area")),this._$gotoPageArea.append("<span>"+t.options.messages.gotoPageLabel+": </span>"),"combobox"==t.options.gotoPageArea?(t._$gotoPageInput=e("<select></select>").appendTo(this._$gotoPageArea).data("pageCount",1).change(function(){t._changePage(parseInt(e(this).val()))}),t._$gotoPageInput.append('<option value="1">1</option>')):t._$gotoPageInput=e('<input type="text" maxlength="10" value="'+t._currentPageNo+'" />').appendTo(this._$gotoPageArea).keypress(function(e){if(13==e.which)e.preventDefault(),t._changePage(parseInt(t._$gotoPageInput.val()));else if(43==e.which)e.preventDefault(),t._changePage(parseInt(t._$gotoPageInput.val())+1);else if(45==e.which)e.preventDefault(),t._changePage(parseInt(t._$gotoPageInput.val())-1);else{47<e.keyCode&&e.keyCode<58&&0==e.shiftKey&&0==e.altKey||8==e.keyCode||9==e.keyCode||e.preventDefault()}}))},_refreshGotoPageInput:function(){if(this.options.gotoPageArea&&"none"!=this.options.gotoPageArea){if(this._totalRecordCount<=0?this._$gotoPageArea.hide():this._$gotoPageArea.show(),"combobox"==this.options.gotoPageArea){var e=this._$gotoPageInput.data("pageCount"),t=this._calculatePageCount();if(e!=t){this._$gotoPageInput.empty();var a=1;t>1e4?a=100:t>5e3?a=10:t>2e3?a=5:t>1e3&&(a=2);for(var o=a;o<=t;o+=a)this._$gotoPageInput.append('<option value="'+o+'">'+o+"</option>");this._$gotoPageInput.data("pageCount",t)}}this._$gotoPageInput.val(this._currentPageNo)}},load:function(){this._currentPageNo=1,t.load.apply(this,arguments)},_setOption:function(e,a){t._setOption.apply(this,arguments),"pageSize"==e&&this._changePageSize(parseInt(a))},_changePageSize:function(e){if(e!=this.options.pageSize){this.options.pageSize=e;var t=this._calculatePageCount();this._currentPageNo>t&&(this._currentPageNo=t),this._currentPageNo<=0&&(this._currentPageNo=1);var a=this._$bottomPanel.find(".jtable-page-size-change select");if(a.length>0)if(parseInt(a.val())!=e)a.find("option[value="+e+"]").length>0&&a.val(e);this._savePagingSettings(),this._reloadTable()}},_savePagingSettings:function(){this.options.saveUserPreferences&&this._setCookie("page-size",this.options.pageSize)},_createRecordLoadUrl:function(){var e=t._createRecordLoadUrl.apply(this,arguments);return e=this._addPagingInfoToUrl(e,this._currentPageNo)},_createJtParamsForLoading:function(){var e=t._createJtParamsForLoading.apply(this,arguments);return this.options.paging&&(e.jtStartIndex=(this._currentPageNo-1)*this.options.pageSize,e.jtPageSize=this.options.pageSize),e},_addRowToTable:function(e,a,o){o&&this.options.paging?this._reloadTable():t._addRowToTable.apply(this,arguments)},_addRow:function(e,a){a&&a.isNewRow&&this.options.paging?this._reloadTable():t._addRow.apply(this,arguments)},_removeRowsFromTable:function(e,a){t._removeRowsFromTable.apply(this,arguments),this.options.paging&&(this._$tableRows.length<=0&&this._currentPageNo>1&&--this._currentPageNo,this._reloadTable())},_onRecordsLoaded:function(e){this.options.paging&&(this._totalRecordCount=e.TotalRecordCount,this._createPagingList(),this._createPagingInfo(),this._refreshGotoPageInput()),t._onRecordsLoaded.apply(this,arguments)},_addPagingInfoToUrl:function(e,t){if(!this.options.paging)return e;var a=(t-1)*this.options.pageSize,o=this.options.pageSize;return e+(e.indexOf("?")<0?"?":"&")+"jtStartIndex="+a+"&jtPageSize="+o},_createPagingList:function(){if(!(this.options.pageSize<=0||(this._$pagingListArea.empty(),this._totalRecordCount<=0))){var e=this._calculatePageCount();this._createFirstAndPreviousPageButtons(),"normal"==this.options.pageList&&this._createPageNumberButtons(this._calculatePageNumbers(e)),this._createLastAndNextPageButtons(e),this._bindClickEventsToPageNumberButtons()}},_createFirstAndPreviousPageButtons:function(){var t=e("<span></span>").addClass("jtable-page-number-first").html("&lt&lt").data("pageNumber",1).appendTo(this._$pagingListArea),a=e("<span></span>").addClass("jtable-page-number-previous").html("&lt").data("pageNumber",this._currentPageNo-1).appendTo(this._$pagingListArea);this._jqueryuiThemeAddClass(t,"ui-button ui-state-default","ui-state-hover"),this._jqueryuiThemeAddClass(a,"ui-button ui-state-default","ui-state-hover"),this._currentPageNo<=1&&(t.addClass("jtable-page-number-disabled"),a.addClass("jtable-page-number-disabled"),this._jqueryuiThemeAddClass(t,"ui-state-disabled"),this._jqueryuiThemeAddClass(a,"ui-state-disabled"))},_createLastAndNextPageButtons:function(t){var a=e("<span></span>").addClass("jtable-page-number-next").html("&gt").data("pageNumber",this._currentPageNo+1).appendTo(this._$pagingListArea),o=e("<span></span>").addClass("jtable-page-number-last").html("&gt&gt").data("pageNumber",t).appendTo(this._$pagingListArea);this._jqueryuiThemeAddClass(a,"ui-button ui-state-default","ui-state-hover"),this._jqueryuiThemeAddClass(o,"ui-button ui-state-default","ui-state-hover"),this._currentPageNo>=t&&(a.addClass("jtable-page-number-disabled"),o.addClass("jtable-page-number-disabled"),this._jqueryuiThemeAddClass(a,"ui-state-disabled"),this._jqueryuiThemeAddClass(o,"ui-state-disabled"))},_createPageNumberButtons:function(t){for(var a=0,o=0;o<t.length;o++)t[o]-a>1&&e("<span></span>").addClass("jtable-page-number-space").html("...").appendTo(this._$pagingListArea),this._createPageNumberButton(t[o]),a=t[o]},_createPageNumberButton:function(t){var a=e("<span></span>").addClass("jtable-page-number").html(t).data("pageNumber",t).appendTo(this._$pagingListArea);this._jqueryuiThemeAddClass(a,"ui-button ui-state-default","ui-state-hover"),this._currentPageNo==t&&(a.addClass("jtable-page-number-active jtable-page-number-disabled"),this._jqueryuiThemeAddClass(a,"ui-state-active"))},_calculatePageCount:function(){var e=Math.floor(this._totalRecordCount/this.options.pageSize);return this._totalRecordCount%this.options.pageSize!=0&&++e,e},_calculatePageNumbers:function(e){if(e<=4){for(var t=[],a=1;a<=e;++a)t.push(a);return t}var o=[1,2,e-1,e],i=this._normalizeNumber(this._currentPageNo-1,1,e,1),s=this._normalizeNumber(this._currentPageNo+1,1,e,1);return this._insertToArrayIfDoesNotExists(o,i),this._insertToArrayIfDoesNotExists(o,this._currentPageNo),this._insertToArrayIfDoesNotExists(o,s),o.sort(function(e,t){return e-t}),o},_createPagingInfo:function(){if(this._totalRecordCount<=0)this._$pageInfoSpan.empty();else{var e=(this._currentPageNo-1)*this.options.pageSize+1,t=this._currentPageNo*this.options.pageSize;if((t=this._normalizeNumber(t,e,this._totalRecordCount,0))>=e){var a=this._formatString(this.options.messages.pagingInfo,e,t,this._totalRecordCount);this._$pageInfoSpan.html(a)}}},_bindClickEventsToPageNumberButtons:function(){var t=this;t._$pagingListArea.find(".jtable-page-number,.jtable-page-number-previous,.jtable-page-number-next,.jtable-page-number-first,.jtable-page-number-last").not(".jtable-page-number-disabled").click(function(a){a.preventDefault(),t._changePage(e(this).data("pageNumber"))})},_changePage:function(e){(e=this._normalizeNumber(e,1,this._calculatePageCount(),1))!=this._currentPageNo?(this._currentPageNo=e,this._reloadTable()):this._refreshGotoPageInput()}})}(jQuery);
//# sourceMappingURL=/sm/e244c8661eef0f04897776420c40a228ff85f5b26d6520952508a67ad6776f36.map