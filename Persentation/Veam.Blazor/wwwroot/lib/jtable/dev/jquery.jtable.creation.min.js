/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jtable@2.6.0/dev/jquery.jtable.creation.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){var o={_create:e.hik.jtable.prototype._create};e.extend(!0,e.hik.jtable.prototype,{options:{recordAdded:function(e,o){},messages:{addNewRecord:"Add new record"}},_$addRecordDiv:null,_create:function(){o._create.apply(this,arguments),this.options.actions.createAction&&this._createAddRecordDialogDiv()},_createAddRecordDialogDiv:function(){var o=this;o._$addRecordDiv=e("<div />").appendTo(o._$mainContainer),o._$addRecordDiv.dialog({autoOpen:!1,show:o.options.dialogShowEffect,hide:o.options.dialogHideEffect,width:"auto",minWidth:"300",modal:!0,title:o.options.messages.addNewRecord,buttons:[{text:o.options.messages.cancel,click:function(){o._$addRecordDiv.dialog("close")}},{id:"AddRecordDialogSaveButton",text:o.options.messages.save,click:function(){o._onSaveClickedOnCreateForm()}}],close:function(){var e=o._$addRecordDiv.find("form").first(),r=o._$addRecordDiv.parent().find("#AddRecordDialogSaveButton");o._trigger("formClosed",null,{form:e,formType:"create"}),o._setEnabledOfDialogButton(r,!0,o.options.messages.save),e.remove()}}),o.options.addRecordButton?o.options.addRecordButton.click(function(e){e.preventDefault(),o._showAddRecordForm()}):o._addToolBarItem({icon:!0,cssClass:"jtable-toolbar-item-add-record",text:o.options.messages.addNewRecord,click:function(){o._showAddRecordForm()}})},_onSaveClickedOnCreateForm:function(){var e=this._$addRecordDiv.parent().find("#AddRecordDialogSaveButton"),o=this._$addRecordDiv.find("form");0!=this._trigger("formSubmitting",null,{form:o,formType:"create"})&&(this._setEnabledOfDialogButton(e,!1,this.options.messages.saving),this._saveAddRecordForm(o,e))},showCreateForm:function(){this._showAddRecordForm()},addRecord:function(o){var r=this;if((o=e.extend({clientOnly:!1,animationsEnabled:r.options.animationsEnabled,success:function(){},error:function(){}},o)).record){if(o.clientOnly)return r._addRow(r._createRowFromRecord(o.record),{isNewRow:!0,animationsEnabled:o.animationsEnabled}),void o.success();var t=function(e){return"OK"!=e.Result?(r._showError(e.Message),void o.error(e)):e.Record?(r._onRecordAdded(e),r._addRow(r._createRowFromRecord(e.Record),{isNewRow:!0,animationsEnabled:o.animationsEnabled}),void o.success(e)):(r._logError("Server must return the created Record object."),void o.error(e))};if(!o.url&&e.isFunction(r.options.actions.createAction)){var i=r.options.actions.createAction(e.param(o.record));r._isDeferredObject(i)?i.done(function(e){t(e)}).fail(function(){r._showError(r.options.messages.serverCommunicationError),o.error()}):t(i)}else r._submitFormUsingAjax(o.url||r.options.actions.createAction,e.param(o.record),function(e){t(e)},function(){r._showError(r.options.messages.serverCommunicationError),o.error()})}else r._logWarn("options parameter in addRecord method must contain a record property.")},_showAddRecordForm:function(){for(var o=this,r=e('<form id="jtable-create-form" class="jtable-dialog-form jtable-create-form"></form>'),t=0;t<o._fieldList.length;t++){var i=o._fieldList[t],n=o.options.fields[i];if((1!=n.key||1==n.create)&&0!=n.create)if("hidden"!=n.type){var d=e("<div />").addClass("jtable-input-field-container").appendTo(r);d.append(o._createInputLabelForRecordField(i)),d.append(o._createInputForRecordField({fieldName:i,formType:"create",form:r}))}else r.append(o._createInputForHidden(i,n.defaultValue))}o._makeCascadeDropDowns(r,void 0,"create"),r.submit(function(){return o._onSaveClickedOnCreateForm(),!1}),o._$addRecordDiv.append(r).dialog("open"),o._trigger("formCreated",null,{form:r,formType:"create"})},_saveAddRecordForm:function(o,r){var t=this,i=function(e){return"OK"!=e.Result?(t._showError(e.Message),void t._setEnabledOfDialogButton(r,!0,t.options.messages.save)):e.Record?(t._onRecordAdded(e),t._addRow(t._createRowFromRecord(e.Record),{isNewRow:!0}),void t._$addRecordDiv.dialog("close")):(t._logError("Server must return the created Record object."),void t._setEnabledOfDialogButton(r,!0,t.options.messages.save))};if(o.data("submitting",!0),e.isFunction(t.options.actions.createAction)){var n=t.options.actions.createAction(o.serialize());t._isDeferredObject(n)?n.done(function(e){i(e)}).fail(function(){t._showError(t.options.messages.serverCommunicationError),t._setEnabledOfDialogButton(r,!0,t.options.messages.save)}):i(n)}else t._submitFormUsingAjax(t.options.actions.createAction,o.serialize(),function(e){i(e)},function(){t._showError(t.options.messages.serverCommunicationError),t._setEnabledOfDialogButton(r,!0,t.options.messages.save)})},_onRecordAdded:function(e){this._trigger("recordAdded",null,{record:e.Record,serverResponse:e})}})}(jQuery);
//# sourceMappingURL=/sm/f6ff09f61c8a2bc93bbe80ce9c232ee9bbdb19da8fc512e37409fbd3ac122ed3.map