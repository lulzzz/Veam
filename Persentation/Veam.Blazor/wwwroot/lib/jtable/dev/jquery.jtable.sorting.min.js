/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jtable@2.6.0/dev/jquery.jtable.sorting.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t){var e={_initializeFields:t.hik.jtable.prototype._initializeFields,_normalizeFieldOptions:t.hik.jtable.prototype._normalizeFieldOptions,_createHeaderCellForField:t.hik.jtable.prototype._createHeaderCellForField,_createRecordLoadUrl:t.hik.jtable.prototype._createRecordLoadUrl,_createJtParamsForLoading:t.hik.jtable.prototype._createJtParamsForLoading};t.extend(!0,t.hik.jtable.prototype,{options:{sorting:!1,multiSorting:!1,defaultSorting:""},_lastSorting:null,_initializeFields:function(){e._initializeFields.apply(this,arguments),this._lastSorting=[],this.options.sorting&&this._buildDefaultSortingArray()},_normalizeFieldOptions:function(t,i){e._normalizeFieldOptions.apply(this,arguments),i.sorting=0!=i.sorting},_createHeaderCellForField:function(t,i){var r=e._createHeaderCellForField.apply(this,arguments);return this.options.sorting&&i.sorting&&this._makeColumnSortable(r,t,i.initialSortingDirection),r},_createRecordLoadUrl:function(){var t=e._createRecordLoadUrl.apply(this,arguments);return t=this._addSortingInfoToUrl(t)},_buildDefaultSortingArray:function(){var e=this;t.each(e.options.defaultSorting.split(","),function(i,r){t.each(e.options.fields,function(t,i){if(i.sorting){var a=r.indexOf(t);a>-1&&(r.toUpperCase().indexOf(" DESC",a)>-1?e._lastSorting.push({fieldName:t,sortOrder:"DESC"}):e._lastSorting.push({fieldName:t,sortOrder:"ASC"}))}})})},_makeColumnSortable:function(e,i,r){var a=this;e.addClass("jtable-column-header-sortable").click(function(t){t.preventDefault(),a.options.multiSorting&&t.ctrlKey||(a._lastSorting=[]),a._sortTableByColumn(e)}),r&&e.addClass("jtable-column-header-sorted-"+r.toLowerCase()),t.each(this._lastSorting,function(t,r){r.fieldName==i&&("DESC"==r.sortOrder?e.addClass("jtable-column-header-sorted-desc"):e.addClass("jtable-column-header-sorted-asc"))})},_sortTableByColumn:function(t){0==this._lastSorting.length&&t.siblings().removeClass("jtable-column-header-sorted-asc jtable-column-header-sorted-desc");for(var e=0;e<this._lastSorting.length;e++)this._lastSorting[e].fieldName==t.data("fieldName")&&this._lastSorting.splice(e--,1);t.hasClass("jtable-column-header-sorted-asc")?(t.removeClass("jtable-column-header-sorted-asc").addClass("jtable-column-header-sorted-desc"),this._lastSorting.push({fieldName:t.data("fieldName"),sortOrder:"DESC"})):(t.removeClass("jtable-column-header-sorted-desc").addClass("jtable-column-header-sorted-asc"),this._lastSorting.push({fieldName:t.data("fieldName"),sortOrder:"ASC"})),this._reloadTable()},_addSortingInfoToUrl:function(e){if(!this.options.sorting||0==this._lastSorting.length)return e;var i=[];return t.each(this._lastSorting,function(t,e){i.push(e.fieldName+" "+e.sortOrder)}),e+(e.indexOf("?")<0?"?":"&")+"jtSorting="+i.join(",")},_createJtParamsForLoading:function(){var i=e._createJtParamsForLoading.apply(this,arguments);if(this.options.sorting&&this._lastSorting.length){var r=[];t.each(this._lastSorting,function(t,e){r.push(e.fieldName+" "+e.sortOrder)}),i.jtSorting=r.join(",")}return i}})}(jQuery);
//# sourceMappingURL=/sm/141be7c781327dc30a27bc3829f9846330e1b3930123968a4375c6e0fd4f4ef0.map